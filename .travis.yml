deploy:
  provider: pypi
  user: moritz.ploss
  password:
    secure: CBm+f8lwIp4uDlTuX9mOEHbmn3VvYx/2i6OsPE+DBWi48px6sIIlSi7YNRFiA++ZLqEAoYs52xc0tidsmVhZ4nxQ+J/PaQnnLAg5FRTOtXcUrRNRfhLEStx9UvMelhitc/nqH+7Jd5gW1Q5nLPS8O8hArVxwLKzdsaFbEcOq5HZzD7V1aqfFTdKZx0T0WttE/7Dmv2nFr5qQqgmjyEm9ksoysytflPr59lLdRqMLq7ovSPbO3ByRFE/YMOO25CKP2s+FVMJYkazO0xklZ1+zXctf+rMc689xie5uA3kPxgC9c+UYZWAC4zrWv8+B+VV9r4wd3ZWKT5mY4vFG3G3AdEraKpmLEq5RdJ6hH/wxE+c/PQcjIsCOYbhyTsTyUNrZnADhUkdCIZJe07IyprqDMprhbkTuGbDBotkBFCt9a5g6LKRJ2yc8Osj6IqgQiOjzLR3YlM0y2jH0q082Zk7F9djAwZguGQGpI0+33blJLzPl6UxWu6P34d9X42FXwWInhi/OF2p7oJVU3DQVoOo6O/yze2U1ZHEJjAjZ1KSK0qknbMVsQABcGwDsH+H+W9PO4ujRJLXKH1FJ3EI0EP50fxiHFmvR0OOcLBove+jAkoFFYNzGrgK2gNasy/tScBxXK95vUpHkXEF3LQACmkrEnhYjt2hJ6v9Ebf7nY17WwQ8=
  distributions: sdist bdist_wheel
  on:
    tags: true
language: python
python:
- '3.4'
- '3.5'
- '3.6'
install:
- pip install .
- pip install --upgrade bumpversion
- pip install sphinx
- pip install sphinxjp.themes.dotted
- pip install sphinx_rtd_theme
- pip install sphinxcontrib-fulltoc
- pip install pylint
- pip install -r requirements.txt
script:
- pytest tribology/tests/tests_tribology.py
- pylint --rcfile=tribology.pylintrc tribology -E --extension-pkg-whitelist=numpy
- sphinx-build -b html docs/sphinx_files/ docs/ -a
