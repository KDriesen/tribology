deploy:
  provider: pypi
  user: moritz.ploss
  password:
    secure: UWSFP9NnpeeKtqW0JZ3gWN99qkPyhxmyPHvhAPyzloew83WP2/1UKUw8MFWZRIMZLl+dIEaJ0J+UGPVIF0lLV7d3N0Oh3imfZkkMEfCmfOL3T06fADQhwOoWMBsdQo60ymd7hdOHQQCe/UJxXG+YBH6we1yfjZ9zRbOSSGZZEN5OsYBEcpAUB2DeDTV+lLu02SDnscYuaOxkqmLxB9+Rr0EI9TpptrIYa0IjzqNOsHYrQFy26sm8iGnTMrrAWrMnuVb6BaG/leOYEq+LeDbHOpxIrTzuKcErO2Zqz4Nb835S7v4N2WU0nhFbv3nWm9u2qgf6NYqOFGJ9Vd1g38Owe7+vN5+m/RIoYAEns2yCLu68g5hYSlv39EdHmxxVEIpdd6CM3YBgCXOlfov3NDs5M+o65Udm0DOGguWf5VJJOESstW621rFg4tzZpBR27MUL4wJF5y96xkB2e8Dqi6W/i23bqAiKgNXnHNPgpsKmHS72RGfQYUDdTwLYEm5/TIjxOFQzLXfXvlQn1lBg7Hi9AtYC3/mqkt/X5aszhUkWilbZwvu7tiHeKHK8Gd5BOcFdA29lRlJFUL5YfM4EG7prpMDrP6THvKbLDzdM0uhFnp8sMVcC2q7FgYylt/4rQJ65Kqm0JZBSK0iXUnE7czlp6xAkt/5w8XhGACl3DxazM/4=
  distributions: sdist bdist_wheel
  on:
    tags: true
language: python
python:
- '3.4'
- '3.5'
- '3.6'
install:
- pip install .
- pip install --upgrade bumpversion
- pip install sphinx
- pip install sphinxjp.themes.dotted
- pip install sphinx_rtd_theme
- pip install sphinxcontrib-fulltoc
- pip install pylint
- pip install -r requirements.txt
script:
- pytest tribology/tests/tests_tribology.py
- pylint --rcfile=tribology.pylintrc tribology -E --extension-pkg-whitelist=numpy
- sphinx-build -b html docs/sphinx_files/ docs/ -a
